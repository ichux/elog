import{m as Pe}from"../assets/module.esm.d4afd132.js";function te(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function R(e,n,r){return n&&te(e.prototype,n),r&&te(e,r),e}function k(){return(k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function d(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Ee(e,n)}function Ee(e,n){return(Ee=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(e,n)}function pt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function D(e,n){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(i,o){if(i){if(typeof i=="string")return ee(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ee(i,o):void 0}}(e))||n&&e&&typeof e.length=="number"){r&&(e=r);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,Ne,ut,Re,ne,Te,wt={},Mt=[],ln=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function K(e,n){for(var r in n)e[r]=n[r];return e}function Oe(e){var n=e.parentNode;n&&n.removeChild(e)}function p(e,n,r){var t,i,o,s=arguments,a={};for(o in n)o=="key"?t=n[o]:o=="ref"?i=n[o]:a[o]=n[o];if(arguments.length>3)for(r=[r],o=3;o<arguments.length;o++)r.push(s[o]);if(r!=null&&(a.children=r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return yt(e,a,t,i,null)}function yt(e,n,r,t,i){var o={type:e,props:n,key:r,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++g.__v:i};return g.vnode!=null&&g.vnode(o),o}function $(e){return e.children}function ct(e,n){this.props=e,this.context=n}function ht(e,n){if(n==null)return e.__?ht(e.__,e.__.__k.indexOf(e)+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?ht(e):null}function Ae(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ae(e)}}function Dt(e){(!e.__d&&(e.__d=!0)&&ut.push(e)&&!St.__r++||ne!==g.debounceRendering)&&((ne=g.debounceRendering)||Re)(St)}function St(){for(var e;St.__r=ut.length;)e=ut.sort(function(n,r){return n.__v.__b-r.__v.__b}),ut=[],e.some(function(n){var r,t,i,o,s,a;n.__d&&(s=(o=(r=n).__v).__e,(a=r.__P)&&(t=[],(i=K({},o)).__v=o.__v+1,Ht(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,t,s==null?ht(o):s,o.__h),Ie(t,o),o.__e!=s&&Ae(o)))})}function re(e,n,r,t,i,o,s,a,c,h){var u,m,f,l,S,P,v,w=t&&t.__k||Mt,N=w.length;for(r.__k=[],u=0;u<n.length;u++)if((l=r.__k[u]=(l=n[u])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?yt(null,l,null,null,l):Array.isArray(l)?yt($,{children:l},null,null,null):l.__b>0?yt(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=r,l.__b=r.__b+1,(f=w[u])===null||f&&l.key==f.key&&l.type===f.type)w[u]=void 0;else for(m=0;m<N;m++){if((f=w[m])&&l.key==f.key&&l.type===f.type){w[m]=void 0;break}f=null}Ht(e,l,f=f||wt,i,o,s,a,c,h),S=l.__e,(m=l.ref)&&f.ref!=m&&(v||(v=[]),f.ref&&v.push(f.ref,null,l),v.push(m,l.__c||S,l)),S!=null?(P==null&&(P=S),typeof l.type=="function"&&l.__k!=null&&l.__k===f.__k?l.__d=c=Fe(l,c,e):c=De(e,l,f,w,S,c),h||r.type!=="option"?typeof r.type=="function"&&(r.__d=c):e.value=""):c&&f.__e==c&&c.parentNode!=e&&(c=ht(f))}for(r.__e=P,u=N;u--;)w[u]!=null&&(typeof r.type=="function"&&w[u].__e!=null&&w[u].__e==r.__d&&(r.__d=ht(t,u+1)),Le(w[u],w[u]));if(v)for(u=0;u<v.length;u++)Ue(v[u],v[++u],v[++u])}function Fe(e,n,r){var t,i;for(t=0;t<e.__k.length;t++)(i=e.__k[t])&&(i.__=e,n=typeof i.type=="function"?Fe(i,n,r):De(r,i,i,e.__k,i.__e,n));return n}function De(e,n,r,t,i,o){var s,a,c;if(n.__d!==void 0)s=n.__d,n.__d=void 0;else if(r==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<t.length;c+=2)if(a==i)break t;e.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function ie(e,n,r){n[0]==="-"?e.setProperty(n,r):e[n]=r==null?"":typeof r!="number"||ln.test(n)?r:r+"px"}function _t(e,n,r,t,i){var o;t:if(n==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof t=="string"&&(e.style.cssText=t=""),t)for(n in t)r&&n in r||ie(e.style,n,"");if(r)for(n in r)t&&r[n]===t[n]||ie(e.style,n,r[n])}else if(n[0]==="o"&&n[1]==="n")o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=r,r?t||e.addEventListener(n,o?se:oe,o):e.removeEventListener(n,o?se:oe,o);else if(n!=="dangerouslySetInnerHTML"){if(i)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=r==null?"":r;break t}catch{}typeof r=="function"||(r!=null&&(r!==!1||n[0]==="a"&&n[1]==="r")?e.setAttribute(n,r):e.removeAttribute(n))}}function oe(e){this.l[e.type+!1](g.event?g.event(e):e)}function se(e){this.l[e.type+!0](g.event?g.event(e):e)}function Ht(e,n,r,t,i,o,s,a,c){var h,u,m,f,l,S,P,v,w,N,H,O=n.type;if(n.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=n.__e=r.__e,n.__h=null,o=[a]),(h=g.__b)&&h(n);try{t:if(typeof O=="function"){if(v=n.props,w=(h=O.contextType)&&t[h.__c],N=h?w?w.props.value:h.__:t,r.__c?P=(u=n.__c=r.__c).__=u.__E:("prototype"in O&&O.prototype.render?n.__c=u=new O(v,N):(n.__c=u=new ct(v,N),u.constructor=O,u.render=pn),w&&w.sub(u),u.props=v,u.state||(u.state={}),u.context=N,u.__n=t,m=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),O.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=K({},u.__s)),K(u.__s,O.getDerivedStateFromProps(v,u.__s))),f=u.props,l=u.state,m)O.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(O.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,N),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,N)===!1||n.__v===r.__v){u.props=v,u.state=u.__s,n.__v!==r.__v&&(u.__d=!1),u.__v=n,n.__e=r.__e,n.__k=r.__k,n.__k.forEach(function(b){b&&(b.__=n)}),u.__h.length&&s.push(u);break t}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,N),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,l,S)})}u.context=N,u.props=v,u.state=u.__s,(h=g.__r)&&h(n),u.__d=!1,u.__v=n,u.__P=e,h=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(t=K(K({},t),u.getChildContext())),m||u.getSnapshotBeforeUpdate==null||(S=u.getSnapshotBeforeUpdate(f,l)),H=h!=null&&h.type===$&&h.key==null?h.props.children:h,re(e,Array.isArray(H)?H:[H],n,r,t,i,o,s,a,c),u.base=n.__e,n.__h=null,u.__h.length&&s.push(u),P&&(u.__E=u.__=null),u.__e=!1}else o==null&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=function(b,J,L,j,X,x,gt,V){var Q,M,q,st,Y=L.props,W=J.props,z=J.type,E=0;if(z==="svg"&&(X=!0),x!=null){for(;E<x.length;E++)if((Q=x[E])&&(Q===b||(z?Q.localName==z:Q.nodeType==3))){b=Q,x[E]=null;break}}if(b==null){if(z===null)return document.createTextNode(W);b=X?document.createElementNS("http://www.w3.org/2000/svg",z):document.createElement(z,W.is&&W),x=null,V=!1}if(z===null)Y===W||V&&b.data===W||(b.data=W);else{if(x=x&&Mt.slice.call(b.childNodes),M=(Y=L.props||wt).dangerouslySetInnerHTML,q=W.dangerouslySetInnerHTML,!V){if(x!=null)for(Y={},st=0;st<b.attributes.length;st++)Y[b.attributes[st].name]=b.attributes[st].value;(q||M)&&(q&&(M&&q.__html==M.__html||q.__html===b.innerHTML)||(b.innerHTML=q&&q.__html||""))}if(function(Yt,at,mt,Zt,cn){var T;for(T in mt)T==="children"||T==="key"||T in at||_t(Yt,T,null,mt[T],Zt);for(T in at)cn&&typeof at[T]!="function"||T==="children"||T==="key"||T==="value"||T==="checked"||mt[T]===at[T]||_t(Yt,T,at[T],mt[T],Zt)}(b,W,Y,X,V),q)J.__k=[];else if(E=J.props.children,re(b,Array.isArray(E)?E:[E],J,L,j,X&&z!=="foreignObject",x,gt,b.firstChild,V),x!=null)for(E=x.length;E--;)x[E]!=null&&Oe(x[E]);V||("value"in W&&(E=W.value)!==void 0&&(E!==b.value||z==="progress"&&!E)&&_t(b,"value",E,Y.value,!1),"checked"in W&&(E=W.checked)!==void 0&&E!==b.checked&&_t(b,"checked",E,Y.checked,!1))}return b}(r.__e,n,r,t,i,o,s,c);(h=g.diffed)&&h(n)}catch(b){n.__v=null,(c||o!=null)&&(n.__e=a,n.__h=!!c,o[o.indexOf(a)]=null),g.__e(b,n,r)}}function Ie(e,n){g.__c&&g.__c(n,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(t){t.call(r)})}catch(t){g.__e(t,r.__v)}})}function Ue(e,n,r){try{typeof e=="function"?e(n):e.current=n}catch(t){g.__e(t,r)}}function Le(e,n,r){var t,i,o;if(g.unmount&&g.unmount(e),(t=e.ref)&&(t.current&&t.current!==e.__e||Ue(t,null,n)),r||typeof e.type=="function"||(r=(i=e.__e)!=null),e.__e=e.__d=void 0,(t=e.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(s){g.__e(s,n)}t.base=t.__P=null}if(t=e.__k)for(o=0;o<t.length;o++)t[o]&&Le(t[o],n,r);i!=null&&Oe(i)}function pn(e,n,r){return this.constructor(e,r)}function lt(e,n,r){var t,i,o;g.__&&g.__(e,n),i=(t=typeof r=="function")?null:r&&r.__k||n.__k,o=[],Ht(n,e=(!t&&r||n).__k=p($,null,[e]),i||wt,wt,n.ownerSVGElement!==void 0,!t&&r?[r]:i?null:n.firstChild?Mt.slice.call(n.childNodes):null,o,!t&&r?r:i?i.__e:n.firstChild,t),Ie(o,e)}function je(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return(e=="x"?n:3&n|8).toString(16)})}g={__e:function(e,n){for(var r,t,i;n=n.__;)if((r=n.__c)&&!r.__)try{if((t=r.constructor)&&t.getDerivedStateFromError!=null&&(r.setState(t.getDerivedStateFromError(e)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e),i=r.__d),i)return r.__E=r}catch(o){e=o}throw e},__v:0},Ne=function(e){return e!=null&&e.constructor===void 0},ct.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=K({},this.state),typeof e=="function"&&(e=e(K({},r),this.props)),e&&K(r,e),e!=null&&this.__v&&(n&&this.__h.push(n),Dt(this))},ct.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Dt(this))},ct.prototype.render=$,ut=[],Re=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,St.__r=0,Te=0;var kt=function(){function e(n){this._id=void 0,this._id=n||je()}return R(e,[{key:"id",get:function(){return this._id}}]),e}(),hn={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(e,n){return"Page "+e+" of "+n},page:function(e){return"Page "+e},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},fn=function(){function e(r){this._language=void 0,this._defaultLanguage=void 0,this._language=r,this._defaultLanguage=hn}var n=e.prototype;return n.getString=function(r,t){if(!t||!r)return null;var i=r.split("."),o=i[0];if(t[o]){var s=t[o];return typeof s=="string"?function(){return s}:typeof s=="function"?s:this.getString(i.slice(1).join("."),s)}return null},n.translate=function(r){var t,i=this.getString(r,this._language);return(t=i||this.getString(r,this._defaultLanguage))?t.apply(void 0,[].slice.call(arguments,1)):r},e}(),F=function(e){function n(r,t){var i,o;return(i=e.call(this,r,t)||this).config=void 0,i._=void 0,i.config=function(s){if(!s)return null;var a=Object.keys(s);return a.length?s[a[0]].props.value:null}(t),i.config&&(i._=(o=i.config.translator,function(s){return o.translate.apply(o,[s].concat([].slice.call(arguments,1)))})),i}return d(n,e),n}(ct),Me=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype.render=function(){return p(this.props.parentElement,{dangerouslySetInnerHTML:{__html:this.props.content}})},n}(F);function Wt(e,n){return p(Me,{content:e,parentElement:n})}Me.defaultProps={parentElement:"span"};var A,Bt=function(e){function n(t){var i;return(i=e.call(this)||this).data=void 0,i.update(t),i}d(n,e);var r=n.prototype;return r.cast=function(t){return t instanceof HTMLElement?Wt(t.outerHTML):t},r.update=function(t){return this.data=this.cast(t),this},n}(kt),Tt=function(e){function n(t){var i;return(i=e.call(this)||this)._cells=void 0,i.cells=t||[],i}d(n,e);var r=n.prototype;return r.cell=function(t){return this._cells[t]},r.toArray=function(){return this.cells.map(function(t){return t.data})},n.fromCells=function(t){return new n(t.map(function(i){return new Bt(i.data)}))},R(n,[{key:"cells",get:function(){return this._cells},set:function(t){this._cells=t}},{key:"length",get:function(){return this.cells.length}}]),n}(kt),xt=function(e){function n(r){var t;return(t=e.call(this)||this)._rows=void 0,t._length=void 0,t.rows=r instanceof Array?r:r instanceof Tt?[r]:[],t}return d(n,e),n.prototype.toArray=function(){return this.rows.map(function(r){return r.toArray()})},n.fromRows=function(r){return new n(r.map(function(t){return Tt.fromCells(t.cells)}))},n.fromArray=function(r){return new n((r=function(t){return!t[0]||t[0]instanceof Array?t:[t]}(r)).map(function(t){return new Tt(t.map(function(i){return new Bt(i)}))}))},R(n,[{key:"rows",get:function(){return this._rows},set:function(r){this._rows=r}},{key:"length",get:function(){return this._length||this.rows.length},set:function(r){this._length=r}}]),n}(kt),Pt=function(){function e(){this.callbacks=void 0}var n=e.prototype;return n.init=function(r){this.callbacks||(this.callbacks={}),r&&!this.callbacks[r]&&(this.callbacks[r]=[])},n.on=function(r,t){return this.init(r),this.callbacks[r].push(t),this},n.off=function(r,t){var i=r;return this.init(),this.callbacks[i]&&this.callbacks[i].length!==0?(this.callbacks[i]=this.callbacks[i].filter(function(o){return o!=t}),this):this},n.emit=function(r){var t=arguments,i=r;return this.init(i),this.callbacks[i].length>0&&(this.callbacks[i].forEach(function(o){return o.apply(void 0,[].slice.call(t,1))}),!0)},e}();(function(e){e[e.Initiator=0]="Initiator",e[e.ServerFilter=1]="ServerFilter",e[e.ServerSort=2]="ServerSort",e[e.ServerLimit=3]="ServerLimit",e[e.Extractor=4]="Extractor",e[e.Transformer=5]="Transformer",e[e.Filter=6]="Filter",e[e.Sort=7]="Sort",e[e.Limit=8]="Limit"})(A||(A={}));var G=function(e){function n(t){var i;return(i=e.call(this)||this).id=void 0,i._props=void 0,i._props={},i.id=je(),t&&i.setProps(t),i}d(n,e);var r=n.prototype;return r.process=function(){var t=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,t),this.emit.apply(this,["beforeProcess"].concat(t));var i=this._process.apply(this,t);return this.emit.apply(this,["afterProcess"].concat(t)),i},r.setProps=function(t){return Object.assign(this._props,t),this.emit("propsUpdated",this),this},R(n,[{key:"props",get:function(){return this._props}}]),n}(Pt),dn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){return this.props.keyword?(t=String(this.props.keyword).trim(),i=this.props.columns,o=this.props.ignoreHiddenColumns,s=r,a=this.props.selector,t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new xt(s.rows.filter(function(c,h){return c.cells.some(function(u,m){if(!u||o&&i&&i[m]&&typeof i[m]=="object"&&i[m].hidden)return!1;var f="";if(typeof a=="function")f=a(u.data,h,m);else if(typeof u.data=="object"){var l=u.data;l&&l.props&&l.props.content&&(f=l.props.content)}else f=String(u.data);return new RegExp(t,"gi").test(f)})}))):r;var t,i,o,s,a},R(n,[{key:"type",get:function(){return A.Filter}}]),n}(G);function _(){var e="gridjs";return""+e+[].slice.call(arguments).reduce(function(n,r){return n+"-"+r},"")}function C(){return[].slice.call(arguments).filter(function(e){return e}).reduce(function(e,n){return(e||"")+" "+n},"").trim()||null}var tt,$t=function(e){function n(t){var i;return(i=e.call(this)||this)._state=void 0,i.dispatcher=void 0,i.dispatcher=t,i._state=i.getInitialState(),t.register(i._handle.bind(pt(i))),i}d(n,e);var r=n.prototype;return r._handle=function(t){this.handle(t.type,t.payload)},r.setState=function(t){var i=this._state;this._state=t,this.emit("updated",t,i)},R(n,[{key:"state",get:function(){return this._state}}]),n}(Pt),gn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.getInitialState=function(){return{keyword:null}},r.handle=function(t,i){t==="SEARCH_KEYWORD"&&this.search(i.keyword)},r.search=function(t){this.setState({keyword:t})},n}($t),qt=function(){function e(n){this.dispatcher=void 0,this.dispatcher=n}return e.prototype.dispatch=function(n,r){this.dispatcher.dispatch({type:n,payload:r})},e}(),mn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype.search=function(r){this.dispatch("SEARCH_KEYWORD",{keyword:r})},n}(qt),ae=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){if(!this.props.keyword)return r;var t={};return this.props.url&&(t.url=this.props.url(r.url,this.props.keyword)),this.props.body&&(t.body=this.props.body(r.body,this.props.keyword)),k({},r,t)},R(n,[{key:"type",get:function(){return A.ServerFilter}}]),n}(G),B=new(function(){function e(){}var n=e.prototype;return n.format=function(r,t){return"[Grid.js] ["+t.toUpperCase()+"]: "+r},n.error=function(r,t){t===void 0&&(t=!1);var i=this.format(r,"error");if(t)throw Error(i);console.error(i)},n.warn=function(r){console.warn(this.format(r,"warn"))},n.info=function(r){console.info(this.format(r,"info"))},e}()),Gt=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n}(F);(function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer",e[e.Cell=2]="Cell"})(tt||(tt={}));var _n=function(){function e(){this.plugins=void 0,this.plugins=[]}var n=e.prototype;return n.get=function(r){var t=this.plugins.filter(function(i){return i.id===r});return t.length>0?t[0]:null},n.add=function(r){return r.id?this.get(r.id)!==null?(B.error("Duplicate plugin ID: "+r.id),this):(this.plugins.push(r),this):(B.error("Plugin ID cannot be empty"),this)},n.remove=function(r){return this.plugins.splice(this.plugins.indexOf(this.get(r)),1),this},n.list=function(r){return(r!=null||r!=null?this.plugins.filter(function(t){return t.position===r}):this.plugins).sort(function(t,i){return t.order-i.order})},e}(),Et=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype.render=function(){var r=this;if(this.props.pluginId){var t=this.config.plugin.get(this.props.pluginId);return t?p($,{},p(t.component,k({plugin:t},t.props,this.props.props))):null}return this.props.position!==void 0?p($,{},this.config.plugin.list(this.props.position).map(function(i){return p(i.component,k({plugin:i},i.props,r.props.props))})):null},n}(F),He=function(e){function n(t,i){var o;(o=e.call(this,t,i)||this).searchProcessor=void 0,o.actions=void 0,o.store=void 0,o.storeUpdatedFn=void 0,o.actions=new mn(o.config.dispatcher),o.store=new gn(o.config.dispatcher);var s,a=t.keyword;return t.enabled&&(a&&o.actions.search(a),o.storeUpdatedFn=o.storeUpdated.bind(pt(o)),o.store.on("updated",o.storeUpdatedFn),s=t.server?new ae({keyword:t.keyword,url:t.server.url,body:t.server.body}):new dn({keyword:t.keyword,columns:o.config.header&&o.config.header.columns,ignoreHiddenColumns:t.ignoreHiddenColumns||t.ignoreHiddenColumns===void 0,selector:t.selector}),o.searchProcessor=s,o.config.pipeline.register(s)),o}d(n,e);var r=n.prototype;return r.componentWillUnmount=function(){this.config.pipeline.unregister(this.searchProcessor),this.store.off("updated",this.storeUpdatedFn)},r.storeUpdated=function(t){this.searchProcessor.setProps({keyword:t.keyword})},r.onChange=function(t){this.actions.search(t.target.value)},r.render=function(){if(!this.props.enabled)return null;var t,i,o,s=this.onChange.bind(this);return this.searchProcessor instanceof ae&&(t=s,i=this.props.debounceTimeout,s=function(){var a=arguments;return new Promise(function(c){o&&clearTimeout(o),o=setTimeout(function(){return c(t.apply(void 0,[].slice.call(a)))},i)})}),p("div",{className:_(C("search",this.config.className.search))},p("input",{type:"search",placeholder:this._("search.placeholder"),"aria-label":this._("search.placeholder"),onInput:s,className:C(_("input"),_("search","input")),value:this.store.state.keyword}))},n}(Gt);He.defaultProps={debounceTimeout:250};var vn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},r._process=function(t){var i=this.props.page;return new xt(t.rows.slice(i*this.props.limit,(i+1)*this.props.limit))},R(n,[{key:"type",get:function(){return A.Limit}}]),n}(G),yn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){var t={};return this.props.url&&(t.url=this.props.url(r.url,this.props.page,this.props.limit)),this.props.body&&(t.body=this.props.body(r.body,this.props.page,this.props.limit)),k({},r,t)},R(n,[{key:"type",get:function(){return A.ServerLimit}}]),n}(G),We=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).processor=void 0,o.onUpdateFn=void 0,o.setTotalFromTabularFn=void 0,o.state={limit:t.limit,page:t.page||0,total:0},o}d(n,e);var r=n.prototype;return r.componentWillMount=function(){var t,i=this;this.props.enabled&&(this.setTotalFromTabularFn=this.setTotalFromTabular.bind(this),this.props.server?(t=new yn({limit:this.state.limit,page:this.state.page,url:this.props.server.url,body:this.props.server.body}),this.config.pipeline.on("afterProcess",this.setTotalFromTabularFn)):(t=new vn({limit:this.state.limit,page:this.state.page})).on("beforeProcess",this.setTotalFromTabularFn),this.processor=t,this.config.pipeline.register(t),this.config.pipeline.on("error",function(){i.setState({total:0,page:0})}))},r.setTotalFromTabular=function(t){this.setTotal(t.length)},r.onUpdate=function(t){this.props.resetPageOnUpdate&&t!==this.processor&&this.setPage(0)},r.componentDidMount=function(){this.onUpdateFn=this.onUpdate.bind(this),this.config.pipeline.on("updated",this.onUpdateFn)},r.componentWillUnmount=function(){this.config.pipeline.unregister(this.processor),this.config.pipeline.off("updated",this.onUpdateFn)},r.setPage=function(t){if(t>=this.pages||t<0||t===this.state.page)return null;this.setState({page:t}),this.processor.setProps({page:t})},r.setTotal=function(t){this.setState({total:t})},r.renderPages=function(){var t=this;if(this.props.buttonsCount<=0)return null;var i=Math.min(this.pages,this.props.buttonsCount),o=Math.min(this.state.page,Math.floor(i/2));return this.state.page+Math.floor(i/2)>=this.pages&&(o=i-(this.pages-this.state.page)),p($,null,this.pages>i&&this.state.page-o>0&&p($,null,p("button",{tabIndex:0,role:"button",onClick:this.setPage.bind(this,0),title:this._("pagination.firstPage"),"aria-label":this._("pagination.firstPage"),className:this.config.className.paginationButton},this._("1")),p("button",{tabIndex:-1,className:C(_("spread"),this.config.className.paginationButton)},"...")),Array.from(Array(i).keys()).map(function(s){return t.state.page+(s-o)}).map(function(s){return p("button",{tabIndex:0,role:"button",onClick:t.setPage.bind(t,s),className:C(t.state.page===s?C(_("currentPage"),t.config.className.paginationButtonCurrent):null,t.config.className.paginationButton),title:t._("pagination.page",s+1),"aria-label":t._("pagination.page",s+1)},t._(""+(s+1)))}),this.pages>i&&this.pages>this.state.page+o+1&&p($,null,p("button",{tabIndex:-1,className:C(_("spread"),this.config.className.paginationButton)},"..."),p("button",{tabIndex:0,role:"button",onClick:this.setPage.bind(this,this.pages-1),title:this._("pagination.page",this.pages),"aria-label":this._("pagination.page",this.pages),className:this.config.className.paginationButton},this._(""+this.pages))))},r.renderSummary=function(){return p($,null,this.props.summary&&this.state.total>0&&p("div",{role:"status","aria-live":"polite",className:C(_("summary"),this.config.className.paginationSummary),title:this._("pagination.navigate",this.state.page+1,this.pages)},this._("pagination.showing")," ",p("b",null,this._(""+(this.state.page*this.state.limit+1)))," ",this._("pagination.to")," ",p("b",null,this._(""+Math.min((this.state.page+1)*this.state.limit,this.state.total)))," ",this._("pagination.of")," ",p("b",null,this._(""+this.state.total))," ",this._("pagination.results")))},r.render=function(){return this.props.enabled?p("div",{className:C(_("pagination"),this.config.className.pagination)},this.renderSummary(),p("div",{className:_("pages")},this.props.prevButton&&p("button",{tabIndex:0,role:"button",disabled:this.state.page===0,onClick:this.setPage.bind(this,this.state.page-1),title:this._("pagination.previous"),"aria-label":this._("pagination.previous"),className:C(this.config.className.paginationButton,this.config.className.paginationButtonPrev)},this._("pagination.previous")),this.renderPages(),this.props.nextButton&&p("button",{tabIndex:0,role:"button",disabled:this.pages===this.state.page+1||this.pages===0,onClick:this.setPage.bind(this,this.state.page+1),title:this._("pagination.next"),"aria-label":this._("pagination.next"),className:C(this.config.className.paginationButton,this.config.className.paginationButtonNext)},this._("pagination.next")))):null},R(n,[{key:"pages",get:function(){return Math.ceil(this.state.total/this.state.limit)}}]),n}(Gt);function bn(e,n){return typeof e=="string"?e.indexOf("%")>-1?n/100*parseInt(e,10):parseInt(e,10):e}function Ot(e){return e?Math.floor(e)+"px":""}We.defaultProps={summary:!0,nextButton:!0,prevButton:!0,buttonsCount:3,limit:10,resetPageOnUpdate:!0};var wn=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).tableElement=void 0,o.tableClassName=void 0,o.tableStyle=void 0,o.tableElement=o.props.tableRef.current.base.cloneNode(!0),o.tableElement.style.position="absolute",o.tableElement.style.width="100%",o.tableElement.style.zIndex="-2147483640",o.tableElement.style.visibility="hidden",o.tableClassName=o.tableElement.className,o.tableStyle=o.tableElement.style.cssText,o}d(n,e);var r=n.prototype;return r.widths=function(){this.tableElement.className=this.tableClassName+" "+_("shadowTable"),this.tableElement.style.tableLayout="auto",this.tableElement.style.width="auto",this.tableElement.style.padding="0",this.tableElement.style.margin="0",this.tableElement.style.border="none",this.tableElement.style.outline="none";var t=Array.from(this.base.parentNode.querySelectorAll("thead th")).reduce(function(i,o){var s;return o.style.width=o.clientWidth+"px",k(((s={})[o.getAttribute("data-column-id")]={minWidth:o.clientWidth},s),i)},{});return this.tableElement.className=this.tableClassName,this.tableElement.style.cssText=this.tableStyle,this.tableElement.style.tableLayout="auto",Array.from(this.base.parentNode.querySelectorAll("thead th")).reduce(function(i,o){return i[o.getAttribute("data-column-id")].width=o.clientWidth,i},t)},r.render=function(){var t=this;return this.props.tableRef.current?p("div",{ref:function(i){i&&i.appendChild(t.tableElement)}}):null},n}(F);function Sn(e){if(!e)return"";var n=e.split(" ");return n.length===1&&/([a-z][A-Z])+/g.test(e)?e:n.map(function(r,t){return t==0?r.toLowerCase():r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}).join("")}var it=function(e){function n(){var t;return(t=e.call(this)||this)._columns=void 0,t._columns=[],t}d(n,e);var r=n.prototype;return r.adjustWidth=function(t){var i=t.container,o=t.tableRef,s=t.tempRef,a=t.tempRef||!0;if(!i)return this;var c=i.clientWidth,h={current:null},u={};if(o.current&&a){var m=p(wn,{tableRef:o});m.ref=h,lt(m,s.current),u=h.current.widths()}for(var f,l=D(n.tabularFormat(this.columns).reduce(function(P,v){return P.concat(v)},[]));!(f=l()).done;){var S=f.value;S.columns&&S.columns.length>0||(!S.width&&a?S.id in u&&(S.width=Ot(u[S.id].width),S.minWidth=Ot(u[S.id].minWidth)):S.width=Ot(bn(S.width,c)))}return o.current&&a&&lt(null,s.current),this},r.setSort=function(t,i){for(var o,s=D(i||this.columns||[]);!(o=s()).done;){var a=o.value;a.columns&&a.columns.length>0&&(a.sort={enabled:!1}),a.sort===void 0&&t.sort&&(a.sort={enabled:!0}),a.sort?typeof a.sort=="object"&&(a.sort=k({enabled:!0},a.sort)):a.sort={enabled:!1},a.columns&&this.setSort(t,a.columns)}},r.setFixedHeader=function(t,i){for(var o,s=D(i||this.columns||[]);!(o=s()).done;){var a=o.value;a.fixedHeader===void 0&&(a.fixedHeader=t.fixedHeader),a.columns&&this.setFixedHeader(t,a.columns)}},r.setResizable=function(t,i){for(var o,s=D(i||this.columns||[]);!(o=s()).done;){var a=o.value;a.resizable===void 0&&(a.resizable=t.resizable),a.columns&&this.setResizable(t,a.columns)}},r.setID=function(t){for(var i,o=D(t||this.columns||[]);!(i=o()).done;){var s=i.value;s.id||typeof s.name!="string"||(s.id=Sn(s.name)),s.id||B.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),s.columns&&this.setID(s.columns)}},r.populatePlugins=function(t,i){for(var o,s=D(i);!(o=s()).done;){var a=o.value;a.plugin!==void 0&&t.plugin.add(k({id:a.id,props:{}},a.plugin,{position:tt.Cell}))}},n.fromColumns=function(t){for(var i,o=new n,s=D(t);!(i=s()).done;){var a=i.value;if(typeof a=="string"||Ne(a))o.columns.push({name:a});else if(typeof a=="object"){var c=a;c.columns&&(c.columns=n.fromColumns(c.columns).columns),typeof c.plugin=="object"&&c.data===void 0&&(c.data=null),o.columns.push(a)}}return o},n.fromUserConfig=function(t){var i=new n;return t.from?i.columns=n.fromHTMLTable(t.from).columns:t.columns?i.columns=n.fromColumns(t.columns).columns:!t.data||typeof t.data[0]!="object"||t.data[0]instanceof Array||(i.columns=Object.keys(t.data[0]).map(function(o){return{name:o}})),i.columns.length?(i.setID(),i.setSort(t),i.setFixedHeader(t),i.setResizable(t),i.populatePlugins(t,i.columns),i):null},n.fromHTMLTable=function(t){for(var i,o=new n,s=D(t.querySelector("thead").querySelectorAll("th"));!(i=s()).done;){var a=i.value;o.columns.push({name:a.innerHTML,width:a.width})}return o},n.tabularFormat=function(t){var i=[],o=t||[],s=[];if(o&&o.length){i.push(o);for(var a,c=D(o);!(a=c()).done;){var h=a.value;h.columns&&h.columns.length&&(s=s.concat(h.columns))}s.length&&(i=i.concat(this.tabularFormat(s)))}return i},n.leafColumns=function(t){var i=[],o=t||[];if(o&&o.length)for(var s,a=D(o);!(s=a()).done;){var c=s.value;c.columns&&c.columns.length!==0||i.push(c),c.columns&&(i=i.concat(this.leafColumns(c.columns)))}return i},n.maximumDepth=function(t){return this.tabularFormat([t]).length-1},R(n,[{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t}},{key:"visibleColumns",get:function(){return this._columns.filter(function(t){return!t.hidden})}}]),n}(kt),Cn=function(){function e(){this._callbacks=void 0,this._isDispatching=void 0,this._isHandled=void 0,this._isPending=void 0,this._lastID=void 0,this._pendingPayload=void 0,this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var n=e.prototype;return n.register=function(r){var t="ID_"+this._lastID++;return this._callbacks[t]=r,t},n.unregister=function(r){if(!this._callbacks[r])throw Error("Dispatcher.unregister(...): "+r+" does not map to a registered callback.");delete this._callbacks[r]},n.waitFor=function(r){if(!this._isDispatching)throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<r.length;t++){var i=r[t];if(this._isPending[i]){if(!this._isHandled[i])throw Error(`Dispatcher.waitFor(...): Circular dependency detected while ' +
            'waiting for `+i+".")}else{if(!this._callbacks[i])throw Error("Dispatcher.waitFor(...): "+i+" does not map to a registered callback.");this._invokeCallback(i)}}},n.dispatch=function(r){if(this._isDispatching)throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this._startDispatching(r);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},n.isDispatching=function(){return this._isDispatching},n._invokeCallback=function(r){this._isPending[r]=!0,this._callbacks[r](this._pendingPayload),this._isHandled[r]=!0},n._startDispatching=function(r){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=r,this._isDispatching=!0},n._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}(),Be=function(){},ue=function(e){function n(t){var i;return(i=e.call(this)||this).data=void 0,i.set(t),i}d(n,e);var r=n.prototype;return r.get=function(){try{return Promise.resolve(this.data()).then(function(t){return{data:t,total:t.length}})}catch(t){return Promise.reject(t)}},r.set=function(t){return t instanceof Array?this.data=function(){return t}:t instanceof Function&&(this.data=t),this},n}(Be),$e=function(e){function n(t){var i;return(i=e.call(this)||this).options=void 0,i.options=t,i}d(n,e);var r=n.prototype;return r.handler=function(t){return typeof this.options.handle=="function"?this.options.handle(t):t.ok?t.json():(B.error("Could not fetch data: "+t.status+" - "+t.statusText,!0),null)},r.get=function(t){var i=k({},this.options,t);return typeof i.data=="function"?i.data(i):fetch(i.url,i).then(this.handler.bind(this)).then(function(o){return{data:i.then(o),total:typeof i.total=="function"?i.total(o):void 0}})},n}(Be),kn=function(){function e(){}return e.createFromUserConfig=function(n){var r=null;return n.data&&(r=new ue(n.data)),n.from&&(r=new ue(this.tableElementToArray(n.from)),n.from.style.display="none"),n.server&&(r=new $e(n.server)),r||B.error("Could not determine the storage type",!0),r},e.tableElementToArray=function(n){for(var r,t,i=[],o=D(n.querySelector("tbody").querySelectorAll("tr"));!(r=o()).done;){for(var s,a=[],c=D(r.value.querySelectorAll("td"));!(s=c()).done;){var h=s.value;h.childNodes.length===1&&h.childNodes[0].nodeType===Node.TEXT_NODE?a.push((t=h.innerHTML,new DOMParser().parseFromString(t,"text/html").documentElement.textContent)):a.push(Wt(h.innerHTML))}i.push(a)}return i},e}(),ce=typeof Symbol!="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function I(e,n,r){if(!e.s){if(r instanceof rt){if(!r.s)return void(r.o=I.bind(null,e,n));1&n&&(n=r.s),r=r.v}if(r&&r.then)return void r.then(I.bind(null,e,n),I.bind(null,e,2));e.s=n,e.v=r;var t=e.o;t&&t(e)}}var rt=function(){function e(){}return e.prototype.then=function(n,r){var t=new e,i=this.s;if(i){var o=1&i?n:r;if(o){try{I(t,1,o(this.v))}catch(s){I(t,2,s)}return t}return this}return this.o=function(s){try{var a=s.v;1&s.s?I(t,1,n?n(a):a):r?I(t,1,r(a)):I(t,2,a)}catch(c){I(t,2,c)}},t},e}();function le(e){return e instanceof rt&&1&e.s}var U,xn=function(e){function n(t){var i;return(i=e.call(this)||this)._steps=new Map,i.cache=new Map,i.lastProcessorIndexUpdated=-1,t&&t.forEach(function(o){return i.register(o)}),i}d(n,e);var r=n.prototype;return r.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},r.register=function(t,i){if(i===void 0&&(i=null),t.type===null)throw Error("Processor type is not defined");t.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(t,i),this.afterRegistered(t)},r.unregister=function(t){if(t){var i=this._steps.get(t.type);i&&i.length&&(this._steps.set(t.type,i.filter(function(o){return o!=t})),this.emit("updated",t))}},r.addProcessorByPriority=function(t,i){var o=this._steps.get(t.type);if(!o){var s=[];this._steps.set(t.type,s),o=s}if(i===null||i<0)o.push(t);else if(o[i]){var a=o.slice(0,i-1),c=o.slice(i+1);this._steps.set(t.type,a.concat(t).concat(c))}else o[i]=t},r.getStepsByType=function(t){return this.steps.filter(function(i){return i.type===t})},r.getSortedProcessorTypes=function(){return Object.keys(A).filter(function(t){return!isNaN(Number(t))}).map(function(t){return Number(t)})},r.process=function(t){try{var i=this,o=function(u){return i.lastProcessorIndexUpdated=a.length,i.emit("afterProcess",c),c},s=i.lastProcessorIndexUpdated,a=i.steps,c=t,h=function(u,m){try{var f=function(l,S,P){if(typeof l[ce]=="function"){var v,w,N,H=l[ce]();if(function L(j){try{for(;!(v=H.next()).done;)if((j=S(v.value))&&j.then){if(!le(j))return void j.then(L,N||(N=I.bind(null,w=new rt,2)));j=j.v}w?I(w,1,j):w=j}catch(X){I(w||(w=new rt),2,X)}}(),H.return){var O=function(L){try{v.done||H.return()}catch{}return L};if(w&&w.then)return w.then(O,function(L){throw O(L)});O()}return w}if(!("length"in l))throw new TypeError("Object is not iterable");for(var b=[],J=0;J<l.length;J++)b.push(l[J]);return function(L,j,X){var x,gt,V=-1;return function Q(M){try{for(;++V<L.length;)if((M=j(V))&&M.then){if(!le(M))return void M.then(Q,gt||(gt=I.bind(null,x=new rt,2)));M=M.v}x?I(x,1,M):x=M}catch(q){I(x||(x=new rt),2,q)}}(),x}(b,function(L){return S(b[L])})}(a,function(l){var S=i.findProcessorIndexByID(l.id),P=function(){if(S>=s)return Promise.resolve(l.process(c)).then(function(v){i.cache.set(l.id,c=v)});c=i.cache.get(l.id)}();if(P&&P.then)return P.then(function(){})})}catch(l){return m(l)}return f&&f.then?f.then(void 0,m):f}(0,function(u){throw B.error(u),i.emit("error",c),u});return Promise.resolve(h&&h.then?h.then(o):o())}catch(u){return Promise.reject(u)}},r.findProcessorIndexByID=function(t){return this.steps.findIndex(function(i){return i.id==t})},r.setLastProcessorIndex=function(t){var i=this.findProcessorIndexByID(t.id);this.lastProcessorIndexUpdated>i&&(this.lastProcessorIndexUpdated=i)},r.processorPropsUpdated=function(t){this.setLastProcessorIndex(t),this.emit("propsUpdated"),this.emit("updated",t)},r.afterRegistered=function(t){this.setLastProcessorIndex(t),this.emit("afterRegister"),this.emit("updated",t)},R(n,[{key:"steps",get:function(){for(var t,i=[],o=D(this.getSortedProcessorTypes());!(t=o()).done;){var s=this._steps.get(t.value);s&&s.length&&(i=i.concat(s))}return i.filter(function(a){return a})}}]),n}(Pt),Pn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){try{return Promise.resolve(this.props.storage.get(r))}catch(t){return Promise.reject(t)}},R(n,[{key:"type",get:function(){return A.Extractor}}]),n}(G),En=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){var t=xt.fromArray(r.data);return t.length=r.total,t},R(n,[{key:"type",get:function(){return A.Transformer}}]),n}(G),Nn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(r){return typeof r[1]!="function"}).reduce(function(r,t){var i;return k({},r,((i={})[t[0]]=t[1],i))},{})},R(n,[{key:"type",get:function(){return A.Initiator}}]),n}(G),Rn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.castData=function(t){if(!t||!t.length)return[];if(!this.props.header||!this.props.header.columns)return t;var i=it.leafColumns(this.props.header.columns);return t[0]instanceof Array?t.map(function(o){var s=0;return i.map(function(a,c){return a.data!==void 0?(s++,typeof a.data=="function"?a.data(o):a.data):o[c-s]})}):typeof t[0]!="object"||t[0]instanceof Array?[]:t.map(function(o){return i.map(function(s,a){return s.data!==void 0?typeof s.data=="function"?s.data(o):s.data:s.id?o[s.id]:(B.error("Could not find the correct cell for column at position "+a+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},r._process=function(t){return{data:this.castData(t.data),total:t.total}},R(n,[{key:"type",get:function(){return A.Transformer}}]),n}(G),Tn=function(){function e(){}return e.createFromConfig=function(n){var r=new xn;return n.storage instanceof $e&&r.register(new Nn({serverStorageOptions:n.server})),r.register(new Pn({storage:n.storage})),r.register(new Rn({header:n.header})),r.register(new En),r},e}(),On=function(){function e(r){this._userConfig=void 0,Object.assign(this,k({},e.defaultConfig(),r)),this._userConfig={}}var n=e.prototype;return n.assign=function(r){for(var t=0,i=Object.keys(r);t<i.length;t++){var o=i[t];o!=="_userConfig"&&(this[o]=r[o])}return this},n.update=function(r){return r?(this._userConfig=k({},this._userConfig,r),this.assign(e.fromUserConfig(this._userConfig)),this):this},e.defaultConfig=function(){return{plugin:new _n,dispatcher:new Cn,tableRef:{current:null},tempRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},e.fromUserConfig=function(r){var t=new e(r);return t._userConfig=r,typeof r.sort=="boolean"&&r.sort&&t.assign({sort:{multiColumn:!0}}),t.assign({header:it.fromUserConfig(t)}),t.assign({storage:kn.createFromUserConfig(r)}),t.assign({pipeline:Tn.createFromConfig(t)}),t.assign({translator:new fn(r.language)}),t.plugin.add({id:"search",position:tt.Header,component:He,props:k({enabled:r.search===!0||r.search instanceof Object},r.search)}),t.plugin.add({id:"pagination",position:tt.Footer,component:We,props:k({enabled:r.pagination===!0||r.pagination instanceof Object},r.pagination)}),r.plugins&&r.plugins.forEach(function(i){return t.plugin.add(i)}),t},e}();(function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Rendered=3]="Rendered",e[e.Error=4]="Error"})(U||(U={}));var pe,qe=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.content=function(){return this.props.column&&typeof this.props.column.formatter=="function"?this.props.column.formatter(this.props.cell.data,this.props.row,this.props.column):this.props.column&&this.props.column.plugin?p(Et,{pluginId:this.props.column.id,props:{column:this.props.column,cell:this.props.cell,row:this.props.row}}):this.props.cell.data},r.handleClick=function(t){this.props.messageCell||this.config.eventEmitter.emit("cellClick",t,this.props.cell,this.props.column,this.props.row)},r.getCustomAttributes=function(t){return t?typeof t.attributes=="function"?t.attributes(this.props.cell.data,this.props.row,this.props.column):t.attributes:{}},r.render=function(){return p("td",k({role:this.props.role,colSpan:this.props.colSpan,"data-column-id":this.props.column&&this.props.column.id,className:C(_("td"),this.props.className,this.config.className.td),style:k({},this.props.style,this.config.style.td),onClick:this.handleClick.bind(this)},this.getCustomAttributes(this.props.column)),this.content())},n}(F),Jt=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.getColumn=function(t){if(this.props.header){var i=it.leafColumns(this.props.header.columns);if(i)return i[t]}return null},r.handleClick=function(t){this.props.messageRow||this.config.eventEmitter.emit("rowClick",t,this.props.row)},r.getChildren=function(){var t=this;return this.props.children?this.props.children:p($,null,this.props.row.cells.map(function(i,o){var s=t.getColumn(o);return s&&s.hidden?null:p(qe,{key:i.id,cell:i,row:t.props.row,column:s})}))},r.render=function(){return p("tr",{className:C(_("tr"),this.config.className.tr),onClick:this.handleClick.bind(this)},this.getChildren())},n}(F),At=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype.render=function(){return p(Jt,{messageRow:!0},p(qe,{role:"alert",colSpan:this.props.colSpan,messageCell:!0,cell:new Bt(this.props.message),className:C(_("message"),this.props.className?this.props.className:null)}))},n}(F),An=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.headerLength=function(){return this.props.header?this.props.header.visibleColumns.length:0},r.render=function(){var t=this;return p("tbody",{className:C(_("tbody"),this.config.className.tbody)},this.props.data&&this.props.data.rows.map(function(i){return p(Jt,{key:i.id,row:i,header:t.props.header})}),this.props.status===U.Loading&&(!this.props.data||this.props.data.length===0)&&p(At,{message:this._("loading"),colSpan:this.headerLength(),className:C(_("loading"),this.config.className.loading)}),this.props.status===U.Rendered&&this.props.data&&this.props.data.length===0&&p(At,{message:this._("noRecordsFound"),colSpan:this.headerLength(),className:C(_("notfound"),this.config.className.notfound)}),this.props.status===U.Error&&p(At,{message:this._("error"),colSpan:this.headerLength(),className:C(_("error"),this.config.className.error)}))},n}(F),Fn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.validateProps=function(){for(var t,i=D(this.props.columns);!(t=i()).done;){var o=t.value;o.direction===void 0&&(o.direction=1),o.direction!==1&&o.direction!==-1&&B.error("Invalid sort direction "+o.direction)}},r.compare=function(t,i){return t>i?1:t<i?-1:0},r.compareWrapper=function(t,i){for(var o,s=0,a=D(this.props.columns);!(o=a()).done;){var c=o.value;if(s!==0)break;var h=t.cells[c.index].data,u=i.cells[c.index].data;s|=typeof c.compare=="function"?c.compare(h,u)*c.direction:this.compare(h,u)*c.direction}return s},r._process=function(t){var i=[].concat(t.rows);i.sort(this.compareWrapper.bind(this));var o=new xt(i);return o.length=t.length,o},R(n,[{key:"type",get:function(){return A.Sort}}]),n}(G),Dn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.getInitialState=function(){return[]},r.handle=function(t,i){t==="SORT_COLUMN"?this.sortColumn(i.index,i.direction,i.multi,i.compare):t==="SORT_COLUMN_TOGGLE"&&this.sortToggle(i.index,i.multi,i.compare)},r.sortToggle=function(t,i,o){var s=[].concat(this.state).find(function(a){return a.index===t});this.sortColumn(t,s&&s.direction===1?-1:1,i,o)},r.sortColumn=function(t,i,o,s){var a=[].concat(this.state),c=a.length,h=a.find(function(v){return v.index===t}),u=!1,m=!1,f=!1,l=!1;if(h!==void 0?o?h.direction===-1?f=!0:l=!0:c===1?l=!0:c>1&&(m=!0,u=!0):c===0?u=!0:c>0&&!o?(u=!0,m=!0):c>0&&o&&(u=!0),m&&(a=[]),u)a.push({index:t,direction:i,compare:s});else if(l){var S=a.indexOf(h);a[S].direction=i}else if(f){var P=a.indexOf(h);a.splice(P,1)}this.setState(a)},n}($t),In=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.sortColumn=function(t,i,o,s){this.dispatch("SORT_COLUMN",{index:t,direction:i,multi:o,compare:s})},r.sortToggle=function(t,i,o){this.dispatch("SORT_COLUMN_TOGGLE",{index:t,multi:i,compare:o})},n}(qt),Un=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype._process=function(r){var t={};return this.props.url&&(t.url=this.props.url(r.url,this.props.columns)),this.props.body&&(t.body=this.props.body(r.body,this.props.columns)),k({},r,t)},R(n,[{key:"type",get:function(){return A.ServerSort}}]),n}(G),Ln=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).sortProcessor=void 0,o.actions=void 0,o.store=void 0,o.updateStateFn=void 0,o.updateSortProcessorFn=void 0,o.actions=new In(o.config.dispatcher),o.store=new Dn(o.config.dispatcher),t.enabled&&(o.sortProcessor=o.getOrCreateSortProcessor(),o.updateStateFn=o.updateState.bind(pt(o)),o.store.on("updated",o.updateStateFn),o.state={direction:0}),o}d(n,e);var r=n.prototype;return r.componentWillUnmount=function(){this.config.pipeline.unregister(this.sortProcessor),this.store.off("updated",this.updateStateFn),this.updateSortProcessorFn&&this.store.off("updated",this.updateSortProcessorFn)},r.updateState=function(){var t=this,i=this.store.state.find(function(o){return o.index===t.props.index});this.setState(i?{direction:i.direction}:{direction:0})},r.updateSortProcessor=function(t){this.sortProcessor.setProps({columns:t})},r.getOrCreateSortProcessor=function(){var t=A.Sort;this.config.sort&&typeof this.config.sort.server=="object"&&(t=A.ServerSort);var i,o=this.config.pipeline.getStepsByType(t);return o.length>0?i=o[0]:(this.updateSortProcessorFn=this.updateSortProcessor.bind(this),this.store.on("updated",this.updateSortProcessorFn),i=t===A.ServerSort?new Un(k({columns:this.store.state},this.config.sort.server)):new Fn({columns:this.store.state}),this.config.pipeline.register(i)),i},r.changeDirection=function(t){t.preventDefault(),t.stopPropagation(),this.actions.sortToggle(this.props.index,t.shiftKey===!0&&this.config.sort.multiColumn,this.props.compare)},r.render=function(){if(!this.props.enabled)return null;var t=this.state.direction,i="neutral";return t===1?i="asc":t===-1&&(i="desc"),p("button",{tabIndex:-1,"aria-label":this._("sort.sort"+(t===1?"Desc":"Asc")),title:this._("sort.sort"+(t===1?"Desc":"Asc")),className:C(_("sort"),_("sort",i),this.config.className.sort),onClick:this.changeDirection.bind(this)})},n}(F),jn=function(e){function n(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).moveFn=void 0,t.upFn=void 0,t}d(n,e);var r=n.prototype;return r.getPageX=function(t){return t instanceof MouseEvent?Math.floor(t.pageX):Math.floor(t.changedTouches[0].pageX)},r.start=function(t){var i,o,s,a,c;t.stopPropagation(),this.setState({offsetStart:parseInt(this.props.thRef.current.style.width,10)-this.getPageX(t)}),this.upFn=this.end.bind(this),this.moveFn=(i=this.move.bind(this),(o=10)===void 0&&(o=100),function(){var h=[].slice.call(arguments);s?(clearTimeout(a),a=setTimeout(function(){Date.now()-c>=o&&(i.apply(void 0,h),c=Date.now())},Math.max(o-(Date.now()-c),0))):(i.apply(void 0,h),c=Date.now(),s=!0)}),document.addEventListener("mouseup",this.upFn),document.addEventListener("touchend",this.upFn),document.addEventListener("mousemove",this.moveFn),document.addEventListener("touchmove",this.moveFn)},r.move=function(t){t.stopPropagation();var i=this.props.thRef.current;this.state.offsetStart+this.getPageX(t)>=parseInt(i.style.minWidth,10)&&(i.style.width=this.state.offsetStart+this.getPageX(t)+"px")},r.end=function(t){t.stopPropagation(),document.removeEventListener("mouseup",this.upFn),document.removeEventListener("mousemove",this.moveFn),document.removeEventListener("touchmove",this.moveFn),document.removeEventListener("touchend",this.upFn)},r.render=function(){return p("div",{className:C(_("th"),_("resizable")),onMouseDown:this.start.bind(this),onTouchStart:this.start.bind(this),onClick:function(t){return t.stopPropagation()}})},n}(F),Mn=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).sortRef={current:null},o.thRef={current:null},o.state={style:{}},o}d(n,e);var r=n.prototype;return r.isSortable=function(){return this.props.column.sort.enabled},r.isResizable=function(){return this.props.column.resizable},r.onClick=function(t){t.stopPropagation(),this.isSortable()&&this.sortRef.current.changeDirection(t)},r.keyDown=function(t){this.isSortable()&&t.which===13&&this.onClick(t)},r.componentDidMount=function(){var t=this;setTimeout(function(){if(t.props.column.fixedHeader&&t.thRef.current){var i=t.thRef.current.offsetTop;typeof i=="number"&&t.setState({style:{top:i}})}},0)},r.content=function(){return this.props.column.name!==void 0?this.props.column.name:this.props.column.plugin!==void 0?p(Et,{pluginId:this.props.column.plugin.id,props:{column:this.props.column}}):null},r.getCustomAttributes=function(){var t=this.props.column;return t?typeof t.attributes=="function"?t.attributes(null,null,this.props.column):t.attributes:{}},r.render=function(){var t={};return this.isSortable()&&(t.tabIndex=0),p("th",k({ref:this.thRef,"data-column-id":this.props.column&&this.props.column.id,className:C(_("th"),this.isSortable()?_("th","sort"):null,this.props.column.fixedHeader?_("th","fixed"):null,this.config.className.th),onClick:this.onClick.bind(this),style:k({},this.config.style.th,{minWidth:this.props.column.minWidth,width:this.props.column.width},this.state.style,this.props.style),onKeyDown:this.keyDown.bind(this),rowSpan:this.props.rowSpan>1?this.props.rowSpan:void 0,colSpan:this.props.colSpan>1?this.props.colSpan:void 0},this.getCustomAttributes(),t),p("div",{className:_("th","content")},this.content()),this.isSortable()&&p(Ln,k({ref:this.sortRef,index:this.props.index},this.props.column.sort)),this.isResizable()&&this.props.index<this.config.header.visibleColumns.length-1&&p(jn,{column:this.props.column,thRef:this.thRef}))},n}(F),Hn=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.renderColumn=function(t,i,o,s){var a=function(c,h,u){var m=it.maximumDepth(c),f=u-h;return{rowSpan:Math.floor(f-m-m/f),colSpan:c.columns&&c.columns.length||1}}(t,i,s);return p(Mn,{column:t,index:o,colSpan:a.colSpan,rowSpan:a.rowSpan})},r.renderRow=function(t,i,o){var s=this,a=it.leafColumns(this.props.header.columns);return p(Jt,null,t.map(function(c){return c.hidden?null:s.renderColumn(c,i,a.indexOf(c),o)}))},r.renderRows=function(){var t=this,i=it.tabularFormat(this.props.header.columns);return i.map(function(o,s){return t.renderRow(o,s,i.length)})},r.render=function(){return this.props.header?p("thead",{key:this.props.header.id,className:C(_("thead"),this.config.className.thead)},this.renderRows()):null},n}(F),Wn=function(e){function n(){return e.apply(this,arguments)||this}return d(n,e),n.prototype.render=function(){return p("table",{role:"grid",className:C(_("table"),this.config.className.table),style:k({},this.config.style.table,{height:this.props.height})},p(Hn,{header:this.props.header}),p(An,{data:this.props.data,status:this.props.status,header:this.props.header}))},n}(F),Bn=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).headerRef={current:null},o.state={isActive:!0},o}d(n,e);var r=n.prototype;return r.componentDidMount=function(){this.headerRef.current.children.length===0&&this.setState({isActive:!1})},r.render=function(){return this.state.isActive?p("div",{ref:this.headerRef,className:C(_("head"),this.config.className.header),style:k({},this.config.style.header)},p(Et,{position:tt.Header})):null},n}(F),$n=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).footerRef={current:null},o.state={isActive:!0},o}d(n,e);var r=n.prototype;return r.componentDidMount=function(){this.footerRef.current.children.length===0&&this.setState({isActive:!1})},r.render=function(){return this.state.isActive?p("div",{ref:this.footerRef,className:C(_("footer"),this.config.className.footer),style:k({},this.config.style.footer)},p(Et,{position:tt.Footer})):null},n}(F),qn=function(e){function n(t,i){var o;return(o=e.call(this,t,i)||this).configContext=void 0,o.processPipelineFn=void 0,o.configContext=function(s,a){var c={__c:a="__cC"+Te++,__:null,Consumer:function(h,u){return h.children(u)},Provider:function(h){var u,m;return this.getChildContext||(u=[],(m={})[a]=this,this.getChildContext=function(){return m},this.shouldComponentUpdate=function(f){this.props.value!==f.value&&u.some(Dt)},this.sub=function(f){u.push(f);var l=f.componentWillUnmount;f.componentWillUnmount=function(){u.splice(u.indexOf(f),1),l&&l.call(f)}}),h.children}};return c.Provider.__=c.Consumer.contextType=c}(),o.state={status:U.Loading,header:t.header,data:null},o}d(n,e);var r=n.prototype;return r.processPipeline=function(){try{var t=this;t.props.config.eventEmitter.emit("beforeLoad"),t.setState({status:U.Loading});var i=function(o,s){try{var a=Promise.resolve(t.props.pipeline.process()).then(function(c){t.setState({data:c,status:U.Loaded}),t.props.config.eventEmitter.emit("load",c)})}catch(c){return s(c)}return a&&a.then?a.then(void 0,s):a}(0,function(o){B.error(o),t.setState({status:U.Error,data:null})});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},r.componentDidMount=function(){try{var t=this,i=t.props.config;return Promise.resolve(t.processPipeline()).then(function(){i.header&&t.state.data&&t.state.data.length&&t.setState({header:i.header.adjustWidth(i)}),t.processPipelineFn=t.processPipeline.bind(t),t.props.pipeline.on("updated",t.processPipelineFn)})}catch(o){return Promise.reject(o)}},r.componentWillUnmount=function(){this.props.pipeline.off("updated",this.processPipelineFn)},r.componentDidUpdate=function(t,i){i.status!=U.Rendered&&this.state.status==U.Loaded&&(this.setState({status:U.Rendered}),this.props.config.eventEmitter.emit("ready"))},r.render=function(){return p(this.configContext.Provider,{value:this.props.config},p("div",{role:"complementary",className:C("gridjs",_("container"),this.state.status===U.Loading?_("loading"):null,this.props.config.className.container),style:k({},this.props.config.style.container,{width:this.props.width})},this.state.status===U.Loading&&p("div",{className:_("loading-bar")}),p(Bn,null),p("div",{className:_("wrapper"),style:{height:this.props.height}},p(Wn,{ref:this.props.config.tableRef,data:this.state.data,header:this.state.header,width:this.props.width,height:this.props.height,status:this.state.status})),p($n,null),p("div",{ref:this.props.config.tempRef,id:"gridjs-temp",className:_("temp")})))},n}(F),Gn=function(e){function n(t){var i;return(i=e.call(this)||this).config=void 0,i.plugin=void 0,i.config=new On({instance:pt(i),eventEmitter:pt(i)}).update(t),i.plugin=i.config.plugin,i}d(n,e);var r=n.prototype;return r.updateConfig=function(t){return this.config.update(t),this},r.createElement=function(){return p(qn,{config:this.config,pipeline:this.config.pipeline,header:this.config.header,width:this.config.width,height:this.config.height})},r.forceRender=function(){return this.config&&this.config.container||B.error("Container is empty. Make sure you call render() before forceRender()",!0),this.config.pipeline.clearCache(),lt(null,this.config.container),lt(this.createElement(),this.config.container),this},r.render=function(t){return t||B.error("Container element cannot be null",!0),t.childNodes.length>0?(B.error("The container element "+t+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=t,lt(this.createElement(),t),this)},n}(Pt),It=[],he=g.__b,fe=g.__r,de=g.diffed,ge=g.__c,me=g.unmount;function Jn(){It.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(bt),e.__H.__h.forEach(Ut),e.__H.__h=[]}catch(n){e.__H.__h=[],g.__e(n,e.__v)}}),It=[]}g.__b=function(e){he&&he(e)},g.__r=function(e){fe&&fe(e);var n=e.__c.__H;n&&(n.__h.forEach(bt),n.__h.forEach(Ut),n.__h=[])},g.diffed=function(e){de&&de(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(It.push(n)!==1&&pe===g.requestAnimationFrame||((pe=g.requestAnimationFrame)||function(r){var t,i=function(){clearTimeout(o),_e&&cancelAnimationFrame(t),setTimeout(r)},o=setTimeout(i,100);_e&&(t=requestAnimationFrame(i))})(Jn))},g.__c=function(e,n){n.some(function(r){try{r.__h.forEach(bt),r.__h=r.__h.filter(function(t){return!t.__||Ut(t)})}catch(t){n.some(function(i){i.__h&&(i.__h=[])}),n=[],g.__e(t,r.__v)}}),ge&&ge(e,n)},g.unmount=function(e){me&&me(e);var n=e.__c;if(n&&n.__H)try{n.__H.__.forEach(bt)}catch(r){g.__e(r,n.__v)}};var _e=typeof requestAnimationFrame=="function";function bt(e){typeof e.__c=="function"&&e.__c()}function Ut(e){e.__c=e.__()}function Vt(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Ge(e,n)}function Ge(e,n){return(Ge=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(e,n)}var Vn=function(e){function n(){return e.apply(this,arguments)||this}Vt(n,e);var r=n.prototype;return r.getInitialState=function(){return{rowIds:[]}},r.handle=function(t,i){t==="CHECK"&&this.check(i.ROW_ID),t==="UNCHECK"&&this.uncheck(i.ROW_ID)},r.check=function(t){this.state.rowIds.indexOf(t)>-1||this.setState({rowIds:[t].concat(this.state.rowIds)})},r.uncheck=function(t){var i=this.state.rowIds.indexOf(t);if(i!==-1){var o=[].concat(this.state.rowIds);o.splice(i,1),this.setState({rowIds:o})}},n}($t),zn=function(e){function n(){return e.apply(this,arguments)||this}Vt(n,e);var r=n.prototype;return r.check=function(t){this.dispatch("CHECK",{ROW_ID:t})},r.uncheck=function(t){this.dispatch("UNCHECK",{ROW_ID:t})},n}(qt),Je=function(e){function n(t,i){var o;if((o=e.call(this,t,i)||this).actions=void 0,o.store=void 0,o.storeUpdatedFn=void 0,o.isDataCell=function(a){return a.row!==void 0},o.getParentTR=function(){return o.base&&o.base.parentElement&&o.base.parentElement.parentElement},o.state={isChecked:!1},o.isDataCell(t)){if(t.store)o.store=t.store;else{var s=new Vn(o.config.dispatcher);o.store=s,t.plugin.props.store=s}o.actions=new zn(o.config.dispatcher),o.storeUpdatedFn=o.storeUpdated.bind(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(o)),o.store.on("updated",o.storeUpdatedFn),t.cell.data&&o.check()}return o}Vt(n,e);var r=n.prototype;return r.componentWillUnmount=function(){this.store.off("updated",this.storeUpdatedFn)},r.componentDidMount=function(){this.store&&this.storeUpdated(this.store.state)},r.storeUpdated=function(t){var i=this.getParentTR();if(i){var o=t.rowIds.indexOf(this.props.id(this.props.row))>-1;this.setState({isChecked:o}),o?i.classList.add(this.props.selectedClassName):i.classList.remove(this.props.selectedClassName)}},r.check=function(){this.actions.check(this.props.id(this.props.row)),this.props.cell.update(!0)},r.uncheck=function(){this.actions.uncheck(this.props.id(this.props.row)),this.props.cell.update(!1)},r.toggle=function(){this.state.isChecked?this.uncheck():this.check()},r.render=function(){var t=this;return this.isDataCell(this.props)?p("input",{type:"checkbox",checked:this.state.isChecked,onChange:function(){return t.toggle()},className:this.props.checkboxClassName}):null},n}(Gt);Je.defaultProps={selectedClassName:_("tr","selected"),checkboxClassName:_("checkbox")};var Kn={};function Z(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z=function(n){return typeof n}:Z=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Z(e)}function Ve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ve(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function ze(e,n,r){return n&&ve(e.prototype,n),r&&ve(e,r),e}function Ct(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Ke(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),t.forEach(function(i){Ct(e,i,r[i])})}return e}function Xn(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&jt(e,n)}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Lt(e)}function jt(e,n){return jt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},jt(e,n)}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e,n){return n&&(typeof n=="object"||typeof n=="function")?n:Qn(e)}function Xe(e){return er(e)||Qe(e)||rr()}function Zn(e){return tr(e)||Qe(e)||nr()}function tr(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}function er(e){if(Array.isArray(e))return e}function Qe(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function nr(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var vt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ir="Expected a function",Ye="__lodash_hash_undefined__",Ze=1/0,or="[object Function]",sr="[object GeneratorFunction]",ar="[object Symbol]",ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cr=/^\w*$/,lr=/^\./,pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/[\\^$.*+?()[\]{}|]/g,fr=/\\(\\)?/g,dr=/^\[object .+?Constructor\]$/,gr=typeof vt=="object"&&vt&&vt.Object===Object&&vt,mr=typeof self=="object"&&self&&self.Object===Object&&self,zt=gr||mr||Function("return this")();function _r(e,n){return e==null?void 0:e[n]}function vr(e){var n=!1;if(e!=null&&typeof e.toString!="function")try{n=!!(e+"")}catch{}return n}var yr=Array.prototype,br=Function.prototype,tn=Object.prototype,Ft=zt["__core-js_shared__"],ye=function(){var e=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),en=br.toString,Kt=tn.hasOwnProperty,nn=tn.toString,wr=RegExp("^"+en.call(Kt).replace(hr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=zt.Symbol,Sr=yr.splice,Cr=rn(zt,"Map"),ft=rn(Object,"create"),we=be?be.prototype:void 0,Se=we?we.toString:void 0;function et(e){var n=-1,r=e?e.length:0;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function kr(){this.__data__=ft?ft(null):{}}function xr(e){return this.has(e)&&delete this.__data__[e]}function Pr(e){var n=this.__data__;if(ft){var r=n[e];return r===Ye?void 0:r}return Kt.call(n,e)?n[e]:void 0}function Er(e){var n=this.__data__;return ft?n[e]!==void 0:Kt.call(n,e)}function Nr(e,n){var r=this.__data__;return r[e]=ft&&n===void 0?Ye:n,this}et.prototype.clear=kr;et.prototype.delete=xr;et.prototype.get=Pr;et.prototype.has=Er;et.prototype.set=Nr;function ot(e){var n=-1,r=e?e.length:0;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Rr(){this.__data__=[]}function Tr(e){var n=this.__data__,r=Nt(n,e);if(r<0)return!1;var t=n.length-1;return r==t?n.pop():Sr.call(n,r,1),!0}function Or(e){var n=this.__data__,r=Nt(n,e);return r<0?void 0:n[r][1]}function Ar(e){return Nt(this.__data__,e)>-1}function Fr(e,n){var r=this.__data__,t=Nt(r,e);return t<0?r.push([e,n]):r[t][1]=n,this}ot.prototype.clear=Rr;ot.prototype.delete=Tr;ot.prototype.get=Or;ot.prototype.has=Ar;ot.prototype.set=Fr;function nt(e){var n=-1,r=e?e.length:0;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Dr(){this.__data__={hash:new et,map:new(Cr||ot),string:new et}}function Ir(e){return Rt(this,e).delete(e)}function Ur(e){return Rt(this,e).get(e)}function Lr(e){return Rt(this,e).has(e)}function jr(e,n){return Rt(this,e).set(e,n),this}nt.prototype.clear=Dr;nt.prototype.delete=Ir;nt.prototype.get=Ur;nt.prototype.has=Lr;nt.prototype.set=jr;function Nt(e,n){for(var r=e.length;r--;)if(Kr(e[r][0],n))return r;return-1}function Mr(e,n){n=$r(n,e)?[n]:Br(n);for(var r=0,t=n.length;e!=null&&r<t;)e=e[Vr(n[r++])];return r&&r==t?e:void 0}function Hr(e){if(!sn(e)||Gr(e))return!1;var n=Xr(e)||vr(e)?wr:dr;return n.test(zr(e))}function Wr(e){if(typeof e=="string")return e;if(Qt(e))return Se?Se.call(e):"";var n=e+"";return n=="0"&&1/e==-Ze?"-0":n}function Br(e){return on(e)?e:Jr(e)}function Rt(e,n){var r=e.__data__;return qr(n)?r[typeof n=="string"?"string":"hash"]:r.map}function rn(e,n){var r=_r(e,n);return Hr(r)?r:void 0}function $r(e,n){if(on(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qt(e)?!0:cr.test(e)||!ur.test(e)||n!=null&&e in Object(n)}function qr(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Gr(e){return!!ye&&ye in e}var Jr=Xt(function(e){e=Yr(e);var n=[];return lr.test(e)&&n.push(""),e.replace(pr,function(r,t,i,o){n.push(i?o.replace(fr,"$1"):t||r)}),n});function Vr(e){if(typeof e=="string"||Qt(e))return e;var n=e+"";return n=="0"&&1/e==-Ze?"-0":n}function zr(e){if(e!=null){try{return en.call(e)}catch{}try{return e+""}catch{}}return""}function Xt(e,n){if(typeof e!="function"||n&&typeof n!="function")throw new TypeError(ir);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,t);return r.cache=o.set(i,s),s};return r.cache=new(Xt.Cache||nt),r}Xt.Cache=nt;function Kr(e,n){return e===n||e!==e&&n!==n}var on=Array.isArray;function Xr(e){var n=sn(e)?nn.call(e):"";return n==or||n==sr}function sn(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Qr(e){return!!e&&typeof e=="object"}function Qt(e){return typeof e=="symbol"||Qr(e)&&nn.call(e)==ar}function Yr(e){return e==null?"":Wr(e)}function Zr(e,n,r){var t=e==null?void 0:Mr(e,n);return t===void 0?r:t}var Ce=Zr;function ti(e,n,r){return e[n]===void 0?r:e[n]}function an(e,n,r){var t=Array.isArray(n)?n:n.split("."),i=Xe(t),o=i[0],s=i.slice(1);return Ke({},e,Ct({},o,t.length>1?an(e[o]||{},s,r):r))}function un(e,n){var r=Array.isArray(n)?n:n.split("."),t=Xe(r),i=t[0],o=t.slice(1);return Z(e[i])!=="object"?e:r.length===1?Object.keys(e).filter(function(s){return s!==i}).reduce(function(s,a){return Object.assign(s,Ct({},a,e[a]))},{}):Object.keys(e).reduce(function(s,a){return Ke({},s,Ct({},a,a!==i?e[a]:un(e[i],o)))},{})}function ei(e,n){try{return e.push.apply(e,Zn(n)),e}catch{return e.concat(n)}}function ni(e,n){var r=!0;return e.reduce(function(t,i){return i==null&&(i=""),r?(r=!1,"".concat(i)):"".concat(t).concat(n).concat(i)},"")}var dt={getProp:ti,setProp:an,unsetProp:un,fastJoin:ni,flattenReducer:ei},ke=dt.getProp,xe=dt.fastJoin,ri=dt.flattenReducer,ii=function(){function e(n){Ve(this,e),this.opts=this.preprocessOpts(n)}return ze(e,[{key:"preprocessOpts",value:function(r){var t=Object.assign({},r);return t.transforms=Array.isArray(t.transforms)?t.transforms:t.transforms?[t.transforms]:[],t.delimiter=t.delimiter||",",t.eol=t.eol||Kn.EOL,t.quote=typeof t.quote=="string"?t.quote:'"',t.escapedQuote=typeof t.escapedQuote=="string"?t.escapedQuote:"".concat(t.quote).concat(t.quote),t.header=t.header!==!1,t.includeEmptyRows=t.includeEmptyRows||!1,t.withBOM=t.withBOM||!1,t}},{key:"preprocessFieldsInfo",value:function(r){var t=this;return r.map(function(i){if(typeof i=="string")return{label:i,value:i.includes(".")||i.includes("[")?function(c){return Ce(c,i,t.opts.defaultValue)}:function(c){return ke(c,i,t.opts.defaultValue)}};if(Z(i)==="object"){var o="default"in i?i.default:t.opts.defaultValue;if(typeof i.value=="string")return{label:i.label||i.value,value:i.value.includes(".")||i.value.includes("[")?function(c){return Ce(c,i.value,o)}:function(c){return ke(c,i.value,o)}};if(typeof i.value=="function"){var s=i.label||i.value.name||"",a={label:s,default:o};return{label:s,value:function(h){var u=i.value(h,a);return u==null?o:u}}}}throw new Error("Invalid field info option. "+JSON.stringify(i))})}},{key:"getHeader",value:function(){var r=this;return xe(this.opts.fields.map(function(t){return r.processValue(t.label)}),this.opts.delimiter)}},{key:"preprocessRow",value:function(r){return this.opts.transforms.reduce(function(t,i){return t.map(function(o){return i(o)}).reduce(ri,[])},[r])}},{key:"processRow",value:function(r){var t=this;if(!!r){var i=this.opts.fields.map(function(o){return t.processCell(r,o)});if(!(!this.opts.includeEmptyRows&&i.every(function(o){return o===void 0})))return xe(i,this.opts.delimiter)}}},{key:"processCell",value:function(r,t){return this.processValue(t.value(r))}},{key:"processValue",value:function(r){if(r!=null){var t=Z(r);if(t!=="boolean"&&t!=="number"&&t!=="string"){if(r=JSON.stringify(r),r===void 0)return;r[0]==='"'&&(r=r.replace(/^"(.+)"$/,"$1"))}return typeof r=="string"&&(this.opts.excelStrings?(r.includes(this.opts.quote)&&(r=r.replace(new RegExp(this.opts.quote,"g"),"".concat(this.opts.escapedQuote).concat(this.opts.escapedQuote))),r='"=""'.concat(r,'"""')):(r.includes(this.opts.quote)&&(r=r.replace(new RegExp(this.opts.quote,"g"),this.opts.escapedQuote)),r="".concat(this.opts.quote).concat(r).concat(this.opts.quote))),r}}}]),e}(),oi=ii,si=dt.fastJoin,ai=dt.flattenReducer,ui=function(e){Xn(n,e);function n(r){var t;return Ve(this,n),t=Yn(this,Lt(n).call(this,r)),t.opts.fields&&(t.opts.fields=t.preprocessFieldsInfo(t.opts.fields)),t}return ze(n,[{key:"parse",value:function(t){var i=this.preprocessData(t);this.opts.fields||(this.opts.fields=i.reduce(function(c,h){return Object.keys(h).forEach(function(u){c.includes(u)||c.push(u)}),c},[]),this.opts.fields=this.preprocessFieldsInfo(this.opts.fields));var o=this.opts.header?this.getHeader():"",s=this.processData(i),a=(this.opts.withBOM?"\uFEFF":"")+o+(o&&s?this.opts.eol:"")+s;return a}},{key:"preprocessData",value:function(t){var i=this,o=Array.isArray(t)?t:[t];if(!this.opts.fields&&(o.length===0||Z(o[0])!=="object"))throw new Error('Data should not be empty or the "fields" option should be included');return this.opts.transforms.length===0?o:o.map(function(s){return i.preprocessRow(s)}).reduce(ai,[])}},{key:"processData",value:function(t){var i=this;return si(t.map(function(o){return i.processRow(o)}).filter(function(o){return o}),this.opts.eol)}}]),n}(oi),ci=ui,y={};y.LEFT_BRACE=1;y.RIGHT_BRACE=2;y.LEFT_BRACKET=3;y.RIGHT_BRACKET=4;y.COLON=5;y.COMMA=6;y.TRUE=7;y.FALSE=8;y.NULL=9;y.STRING=10;y.NUMBER=11;y.START=17;y.STOP=18;y.TRUE1=33;y.TRUE2=34;y.TRUE3=35;y.FALSE1=49;y.FALSE2=50;y.FALSE3=51;y.FALSE4=52;y.NULL1=65;y.NULL2=66;y.NULL3=67;y.NUMBER1=81;y.NUMBER3=83;y.STRING1=97;y.STRING2=98;y.STRING3=99;y.STRING4=100;y.STRING5=101;y.STRING6=102;y.VALUE=113;y.KEY=114;y.OBJECT=129;y.ARRAY=130;var li=function(n,r){return new ci(r).parse(n)};Pe.data("elog",()=>({options:{contentLength:20},data:[],csrf:"",grid:void 0,innerModalHeight:"auto",searchQuery:"",showAvailableOptionsView:!1,showRecordDetailsView:!1,currentSelection:[],currentSelectionId:"",checkAll(){document.querySelectorAll("input.gridjs-checkbox").forEach(e=>{e.checked==!0||e.click()})},uncheckAll(){document.querySelectorAll("input.gridjs-checkbox").forEach(e=>{e.checked==!0&&e.click()})},toggleSelection(){document.querySelectorAll("input.gridjs-checkbox").forEach(e=>{e.click()})},async copySelectionAsCSV(){try{const e=["Id","Code","HTTP Method","Error message","Error traceback","Error type","Ip","Post values","Referrer","Request args","Request path","User Agent","User browser","User browser version","User platform","When"],n=this.getSelectedRowIds();if(n.length==0){alert("Nothing to copy! TODO: Modals");return}let r=this.data.filter(i=>n.includes(i[0]));r=r.map(([i,o,s,a,c,h,u,m,f,l,S,P,v,w,N,H])=>({Id:i,Code:o.val,"HTTP Method":s,"Error message":a,"Error traceback":c,"Error type":h,Ip:u,"Post values":m,Referrer:f,"Request args":l,"Request path":S,"User Agent":P,"User browser":v,"User browser version":w,"User platform":N,When:H}));const t=li(r,{fields:e,eol:`
`});await navigator.clipboard.writeText(t),alert("Copied! TODO: Use modals")}catch(e){console.log(e)}},async deleteSelection(){const e=this.getSelectedRowIds();if(e.length==0){alert("Nothing to delete! TODO: Modals");return}(await fetch("/elog-delete",{method:"POST",headers:{"X-CSRFToken":this.csrf,"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({ids:e})})).ok&&this.grid.forceRender()},showDetails(...e){var i;const{currentTarget:n}=e[0];let r=decodeURIComponent((i=n.querySelector('td[data-column-id="code"] div[data-record]'))==null?void 0:i.getAttribute("data-record"));r=JSON.parse(r);const{_id:t}=e[1];this.currentSelectionId!==t&&(this.currentSelectionId=t,this.currentSelection=[["Id",r[0]],["HTTP Method",r[2]],["Code",r[1]],["Error type",r[5]],["Error message",r[3]],["Error traceback",r[4]],["Referrer",r[8]],["Post values",r[7]],["Request args",r[9]],["Request path",r[10]],["Ip",r[6]],["User Agent",r[11]],["User browser",r[12]],["User browser version",r[13]],["User platform",r[14]],["When",r[15]]],this.showRecordDetailsView=!0)},onGridReady(){var e,n;this.innerModalHeight=(n=(e=document.querySelector(".gridjs.gridjs-container"))==null?void 0:e.getBoundingClientRect().height)!=null?n:"auto",document.querySelectorAll("input.gridjs-checkbox").forEach(r=>{r.addEventListener("click",t=>t.stopPropagation())}),this.grid.on("rowClick",this.showDetails.bind(this))},initCsrf(){var n;const e=document.querySelector("meta[name='csrf-token']");this.csrf=(n=e==null?void 0:e.content)!=null?n:""},async loadData(e){const n=await fetch(e.url,{headers:{"X-CSRFToken":this.csrf,"Content-Type":"application/json;charset=UTF-8"}});if(n.ok){const{data:r,recordsTotal:t}=await n.json(),i=r.map(({id:o,code:s,httpmethod:a,errormsg:c,errortraceback:h,errortype:u,ip:m,postvalues:f,referrer:l,requestargs:S,requestpath:P,useragent:v,userbrowser:w,userbrowserversion:N,userplatform:H,when:O})=>{const b=[o,s,a,c,h,u,m,f,l,S,P,v,w,N,H,O];return b[1]=Wt(`<div data-record="${encodeURIComponent(JSON.stringify(b))}">${s}</div>`,"div"),b[1].val=s,b});return this.data=i,{data:i,total:t}}else throw Error("Data retrieving error")},init(){this.initCsrf(),this.grid=new Gn({columns:[{id:"checkboxes",name:"#",sort:!1,plugin:{component:Je,props:{id:e=>e.cell(1).data}}},{name:"Id",hidden:!0},{name:"Code"},{name:"HTTP Method"},{name:"Error message",hidden:!0},{name:"Error traceback",hidden:!0},{name:"Error type"},{name:"Ip"},{name:"Post values"},{name:"Referrer"},{name:"Request args"},{name:"Request path"},{name:"User Agent"},{name:"User browser"},{name:"User browser version"},{name:"User platform"},{name:"When"}],server:{url:"/data",data:this.loadData.bind(this)},pagination:{enabled:!0,limit:this.options.contentLength,server:{url:this.buildURL.bind(this)}}}),this.grid.on("ready",this.onGridReady.bind(this)),this.grid.render(this.$refs.tableWrapper)},getSelectedRowIds(){const e=this.grid.config.plugin.get("checkboxes"),{rowIds:n}=JSON.parse(JSON.stringify(e.props.store.state));return n},formatHtml(e){switch(e[0]){case"Error message":case"Error traceback":case"Error type":return e[1].replaceAll(/<br\/?>/g,`
`);default:return new Option(e[1]).innerHTML}},async copyToClipboard(e){try{return await navigator.clipboard.writeText(e),!0}catch{return!1}},isCode(e){return["Error message","Error traceback","Error type"].includes(e)},updatePaginationConfig(e){this.uncheckAll(),this.options.contentLength=e,this.grid.updateConfig({pagination:{limit:e}}).forceRender()},updateTable(){this.uncheckAll(),this.grid.forceRender()},buildURL(e,n,r){const t=this.searchQuery.length>0?`&search[value]=${this.searchQuery}`:"&search[value]=date:today";return`${e.replace(/\?.*$/,"")}?length=${r}&start=${n*r}${t}`}}));document.addEventListener("DOMContentLoaded",Pe.start);
//# sourceMappingURL=elog.js.map
